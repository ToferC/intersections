{% extends "base.html" %}

{% block title %}
    <title>{{ fluent(key="delete-person", lang=lang )}} {{ person.code }}</title>
{% endblock title %}

{% block content %}
    <div class="col m-md-2 m-1">
        <br>
        <h1>{{ fluent(key="delete-person", lang=lang )}} {{ person.code }}</h1>
        <p>{{ fluent(key="delete-explain", lang=lang )}}</p>
        <p>{{ fluent(key="date-created", lang=lang )}} {{ person.date_created }}</p>

        <form name="DeleteForm" id="deleteForm" action=/{{ lang }}/delete_person/{{ person.code }} method=POST>

            <label>
                <strong>{{ fluent(key="delete-instructions", lang=lang )}}</strong>
                <input class="form-control form-control-lg" type="text" name="verify" placeholder="Delete my profile" required>
                <small id="code_help" class="form-text text-muted">{{ fluent(key="delete-helper-text", lang=lang )}}</small>
            </label>
            <hr>
    
            <button 
                class="btn g-recaptcha btn-danger" 
                data-sitekey="6LfAltkZAAAAAN7rJGBvRUPm36M1aiL7q2a8SznA" 
                data-callback='onSubmit' 
                data-action='submit'
                type=submit
                >{{ fluent(key="delete-button", lang=lang )}}</button>

            <button class="btn btn-dark" href="/{{ lang }}">{{ fluent(key="cancel-button", lang=lang )}}</button>
            <hr>
        
        </form>

    </div>
{% endblock content %}

{% block scripts %}
<script>

    window.onSubmit = onSubmit;

    function onSubmit(token) {
    document.getElementById("deleteForm").submit();
    };

</script>
{% endblock scripts %}