{% extends "base.html" %}

{% block title %}
    <title>Log in</title>
{% endblock title %}

{% block content %}
    <div class="col m-md-2 m-1">
        <br>
        <h1>Log in to your account</h1>
        <p>You only need to log in to manage an organization.</p>


        <form name="LoginForm" id="loginForm" action=/log_in method=POST>
        
        <label>
            <strong>Email address</strong>
            <input class="form-control form-control-lg" type="email" name="email" placeholder="yourname@domain.com" required>
            <small id="code_help" class="form-text text-muted">Enter the email address you used to register.</small>
        </label>
        <br>

        <label>
            <strong>Password</strong>
            <input 
                class="form-control form-control-lg" 
                type="password" 
                name="password" 
                placeholder="Your password..."
                minlength=12
                required
            >
            <small id="code_help" class="form-text text-muted">Your password (at least 12 characters long).</small>
        </label>
        <br>

        <button 
            class="btn g-recaptcha btn-dark" 
            data-sitekey="6LfAltkZAAAAAN7rJGBvRUPm36M1aiL7q2a8SznA" 
            data-callback='onSubmit' 
            data-action='submit'
            type=submit
            >Login</button>
            <br><br>
            <p>
                <a href="/request_password_reset">I forgot my password</a>
            </p>
        <hr>
    </form>
                
    </div>
{% endblock content %}

{% block scripts %}
<script>

    window.onSubmit = onSubmit;

    function onSubmit(token) {
     document.getElementById("loginForm").submit();
   };

</script>
{% endblock scripts %}